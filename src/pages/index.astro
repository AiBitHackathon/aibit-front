---
import Layout from '../layouts/Layout.astro';
import App from '../components/App';
---

<Layout title="Venice - AI Fitness Assistant">
  <!-- Only one React island, wrapping your entire app -->
  <App client:only="react" />
</Layout>

<script>
  // Handle any client-side errors
  const errorDiv = document.getElementById('error');
  const errorMessage = document.getElementById('errorMessage');

  window.addEventListener('error', (event) => {
    if (errorDiv && errorMessage) {
      errorDiv.classList.remove('hidden');
      errorMessage.textContent = event.message;
    }
  });
</script>